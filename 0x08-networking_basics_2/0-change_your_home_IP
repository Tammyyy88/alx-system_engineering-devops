#!/usr/bin/env bash
# This script configures the system to resolve localhost to 127.0.0.2 and facebook.com to 8.8.8.8

# Check if the script is run as root
if [ "$(id -u)" -ne 0 ]; then
  echo "This script must be run as root" 1>&2
  exit 1
fi

# Backup the current /etc/hosts file
cp /etc/hosts /etc/hosts.backup

# Remove any existing entries for localhost and facebook.com from /etc/hosts
sed -i '/localhost/d' /etc/hosts
sed -i '/facebook.com/d' /etc/hosts

# Add the new entries to the /etc/hosts file
echo "127.0.0.2 localhost" >> /etc/hosts
echo "8.8.8.8 facebook.com" >> /etc/hosts

echo "The /etc/hosts file has been updated. localhost now resolves to 127.0.0.2 and facebook.com to 8.8.8.8."
